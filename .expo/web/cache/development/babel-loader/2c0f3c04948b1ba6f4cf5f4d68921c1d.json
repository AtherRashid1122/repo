{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport axios from 'axios';\nimport AsyncStorage from \"react-native-web/dist/exports/AsyncStorage\";\nimport { LOGIN_SUCCESS, LOGIN_FAIL, GENERAL_SETTINGS, SCANPACK_SETTINGS, USER_INFO_SUCCESS, GET_BOTH_SETTINGS, USER_INFO_SUCCESS_FAIL } from \"../constants\";\nexport function Login(data) {\n  return function _callee2(dispatch) {\n    var url;\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"url\"));\n\n          case 2:\n            url = _context2.sent;\n            axios({\n              method: 'post',\n              url: url + \"/oauth/token\",\n              headers: {\n                \"Access-Control-Allow-Origin\": \"*\"\n              },\n              data: data\n            }).then(function _callee(res) {\n              return _regeneratorRuntime.async(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      _context.next = 2;\n                      return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"access_token\", res.data.access_token).then(function () {\n                        Logging();\n                      }));\n\n                    case 2:\n                      dispatch({\n                        type: LOGIN_SUCCESS,\n                        payload: res.status,\n                        time: new Date()\n                      });\n\n                    case 3:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }\n              }, null, null, null, Promise);\n            }).catch(function (error) {\n              dispatch({\n                type: LOGIN_FAIL,\n                payload: error\n              });\n            });\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n}\n\nvar Logging = function Logging() {\n  var arr;\n  return _regeneratorRuntime.async(function Logging$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          arr = JSON.stringify([]);\n          _context3.next = 3;\n          return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"Logging\", arr));\n\n        case 3:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nexport function UserInfo(call) {\n  return function _callee4(dispatch) {\n    var access_token, url;\n    return _regeneratorRuntime.async(function _callee4$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"access_token\"));\n\n          case 2:\n            access_token = _context5.sent;\n            _context5.next = 5;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"url\"));\n\n          case 5:\n            url = _context5.sent;\n            axios({\n              method: 'get',\n              url: url + \"/home/userinfo.json\",\n              headers: {\n                'Authorization': \"Bearer \" + access_token\n              }\n            }).then(function _callee3(res) {\n              var data;\n              return _regeneratorRuntime.async(function _callee3$(_context4) {\n                while (1) {\n                  switch (_context4.prev = _context4.next) {\n                    case 0:\n                      data = JSON.stringify(res.data);\n                      _context4.next = 3;\n                      return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"userInfo\", data));\n\n                    case 3:\n                      call === false ? dispatch({\n                        type: USER_INFO_SUCCESS_FAIL,\n                        payload: res.data\n                      }) : dispatch({\n                        type: USER_INFO_SUCCESS,\n                        payload: res.data\n                      });\n\n                    case 4:\n                    case \"end\":\n                      return _context4.stop();\n                  }\n                }\n              }, null, null, null, Promise);\n            });\n\n          case 7:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n}\nexport function GetBothSettings() {\n  return function _callee5(dispatch) {\n    var access_token, url;\n    return _regeneratorRuntime.async(function _callee5$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"access_token\"));\n\n          case 2:\n            access_token = _context6.sent;\n            _context6.next = 5;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"url\"));\n\n          case 5:\n            url = _context6.sent;\n            axios({\n              method: 'get',\n              url: url + \"/settings/get_setting.json\",\n              headers: {\n                'Authorization': \"Bearer \" + access_token\n              }\n            }).then(function (res) {\n              dispatch({\n                type: GET_BOTH_SETTINGS,\n                payload: {\n                  data: res.data,\n                  time: new Date()\n                }\n              });\n            }).catch(function (error) {});\n\n          case 7:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n}\nexport function GetGeneralSetting() {\n  return function _callee6(dispatch) {\n    var access_token, url;\n    return _regeneratorRuntime.async(function _callee6$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            _context7.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"access_token\"));\n\n          case 2:\n            access_token = _context7.sent;\n            _context7.next = 5;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"url\"));\n\n          case 5:\n            url = _context7.sent;\n            axios({\n              method: 'get',\n              url: url + \"/settings/get_settings.json\",\n              headers: {\n                'Authorization': \"Bearer \" + access_token\n              }\n            }).then(function (res) {\n              dispatch({\n                type: GENERAL_SETTINGS,\n                payload: {\n                  data: res.data,\n                  time: new Date()\n                }\n              });\n            }).catch(function (error) {});\n\n          case 7:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n}\nexport function GetScanPackSetting() {\n  return function _callee7(dispatch) {\n    var access_token, url;\n    return _regeneratorRuntime.async(function _callee7$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            _context8.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"access_token\"));\n\n          case 2:\n            access_token = _context8.sent;\n            _context8.next = 5;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"url\"));\n\n          case 5:\n            url = _context8.sent;\n            axios({\n              method: 'get',\n              url: url + \"/settings/get_scan_pack_settings.json\",\n              headers: {\n                'Authorization': \"Bearer \" + access_token\n              }\n            }).then(function (res) {\n              dispatch({\n                type: SCANPACK_SETTINGS,\n                payload: {\n                  data: res.data,\n                  time: new Date()\n                }\n              });\n            }).catch(function (error) {});\n\n          case 7:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n}","map":{"version":3,"sources":["C:/Users/DELL PC/Downloads/GroovePacker/src/actions/userAction.js"],"names":["axios","LOGIN_SUCCESS","LOGIN_FAIL","GENERAL_SETTINGS","SCANPACK_SETTINGS","USER_INFO_SUCCESS","GET_BOTH_SETTINGS","USER_INFO_SUCCESS_FAIL","Login","data","dispatch","AsyncStorage","getItem","url","method","headers","then","res","setItem","access_token","Logging","type","payload","status","time","Date","catch","error","arr","JSON","stringify","UserInfo","call","GetBothSettings","GetGeneralSetting","GetScanPackSetting"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { AsyncStorage } from 'react-native';\nimport { LOGIN_SUCCESS , \n         LOGIN_FAIL ,\n         GENERAL_SETTINGS ,\n         SCANPACK_SETTINGS ,\n         USER_INFO_SUCCESS ,\n         GET_BOTH_SETTINGS ,\n         USER_INFO_SUCCESS_FAIL\n       } from '../constants';\n\nexport function Login(data){\n  return async(dispatch) => {\n    const url = await AsyncStorage.getItem(\"url\")\n    axios({\n          method: 'post',\n          url: `${url}/oauth/token`,\n          headers: {\"Access-Control-Allow-Origin\": \"*\"},\n          data: data\n        })\n        .then(async (res) => {\n          await AsyncStorage.setItem(\"access_token\" , res.data.access_token).then(() => {Logging()})\n          dispatch({\n                    type: LOGIN_SUCCESS,\n                    payload: res.status,\n                    time: new Date()\n                  })\n\n        })\n        .catch((error) => {\n          dispatch({\n                    type: LOGIN_FAIL,\n                    payload: error\n                  })\n        })\n  }\n}\n\nconst Logging = async() =>{\n  let arr = JSON.stringify([]) \n  await AsyncStorage.setItem(\"Logging\" , arr)\n} \n\nexport function UserInfo(call){\n  return async(dispatch) => {\n    const access_token = await AsyncStorage.getItem(\"access_token\")\n    const url = await AsyncStorage.getItem(\"url\")\n    axios({\n          method: 'get',\n          url: `${url}/home/userinfo.json`,\n          headers: {'Authorization': `Bearer ${access_token}`}\n        })\n        .then( async(res) => {\n          let data = JSON.stringify(res.data)\n          await AsyncStorage.setItem(\"userInfo\", data)\n          call === false\n          ?\n          dispatch({\n                    type: USER_INFO_SUCCESS_FAIL,\n                    payload: res.data\n                  })\n          :\n          dispatch({\n                    type: USER_INFO_SUCCESS,\n                    payload: res.data\n                  })\n        })\n  }\n}\n\nexport function GetBothSettings(){\n  return async(dispatch) => {\n    const access_token = await AsyncStorage.getItem(\"access_token\")\n    const url = await AsyncStorage.getItem(\"url\")\n    axios({\n          method: 'get',\n          url: `${url}/settings/get_setting.json`,\n          headers: {'Authorization': `Bearer ${access_token}`}\n        })\n        .then((res) => {\n          dispatch({\n                    type: GET_BOTH_SETTINGS,\n                    payload: {data: res.data , time: new Date()}\n                  })\n        })\n        .catch((error) => {\n        })\n  }\n}\n\nexport function GetGeneralSetting(){\n  return async(dispatch) => {\n    const access_token = await AsyncStorage.getItem(\"access_token\")\n    const url = await AsyncStorage.getItem(\"url\")\n    axios({\n          method: 'get',\n          url: `${url}/settings/get_settings.json`,\n          headers: {'Authorization': `Bearer ${access_token}`}\n        })\n        .then((res) => {\n          dispatch({\n                    type: GENERAL_SETTINGS,\n                    payload: {data: res.data , time: new Date()}\n                  })\n        })\n        .catch((error) => {\n        })\n  }\n}\n\nexport function GetScanPackSetting(){\n  return async(dispatch) => {\n    const access_token = await AsyncStorage.getItem(\"access_token\")\n    const url = await AsyncStorage.getItem(\"url\")\n    axios({\n          method: 'get',\n          url: `${url}/settings/get_scan_pack_settings.json`,\n          headers: {'Authorization': `Bearer ${access_token}`}\n        })\n        .then((res) => {\n          dispatch({\n                    type: SCANPACK_SETTINGS,\n                    payload: {data: res.data , time: new Date()}\n                  })\n        })\n        .catch((error) => {\n        })\n  }\n}\n\n"]},"metadata":{},"sourceType":"module"}